<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sentence History</title>
    <link rel="stylesheet" href="../static/table_style.css">

</head>
<body>
    <h1>Sentence Generation History</h1>
    <a href="/history" class="btn">Back to History Menu</a>
    <input type="text" id="filterInput" onkeyup="filterTable()" placeholder="Search for sentences...">
    <table id="historyTable" border="1">
        <tr>
            <th onclick="sortTable(0)">ID ğŸ”½</th>
            <th onclick="sortTable(1)">Username ğŸ”½</th>
            <th onclick="sortTable(2)">Generated On ğŸ”½</th>
            <th onclick="sortTable(3)">Sentence ğŸ”½</th>
            <th>Generated Image</th>
            <th>Download</th>
        </tr>
        {% for entry in sentence_entries %}
        <tr>
            <td>{{ entry.id }}</td>
            <td>{{ entry.username }}</td>
            <td>{{ entry.generated_on[:16].replace('T', ' ') }}</td>
            <td>{{ entry.sentence }}</td>
            <td><img src="data:image/png;base64,{{ entry.generated_image }}" width="50"></td>
            <td><a href="data:image/png;base64,{{ entry.generated_image }}" download="sentence_{{ entry.id }}.png">Download</a></td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>