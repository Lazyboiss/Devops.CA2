<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Game Over</title>
    <link rel="stylesheet" href="../static/gen_style.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    ></script>
  </head>
  <body class="bg-light">
    <a href="/home" class="back-home-btn">
      <span class="arrow">&larr;</span> Back to Homepage
    </a>
    
    <div class="game-container">
      <!-- Flash Messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      
      <!-- Game Over Title -->
      <h1 class="mb-4">Game Over!</h1>
      
      <!-- Final Score Display -->
      <p class="fs-4">Your final score: <strong>{{ final_score }}</strong></p>
      
      <!-- Play Again Button -->
      <a href="/game" class="btn btn-primary submit-btn" style="width: 200px;">Play Again</a>
    </div>
  </body>
</html>
<script>
  // Automatically hide flash messages after 5 seconds
  setTimeout(function() {
      let alerts = document.querySelectorAll(".alert");
      alerts.forEach(function(alert) {
          alert.style.transition = "opacity 0.5s ease-out";
          alert.style.opacity = "0";
          setTimeout(() => alert.remove(), 500); // Remove from DOM after fade out
      });
  }, 2000);
</script>
